(this.webpackJsonpfeedpage=this.webpackJsonpfeedpage||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(4),c=s.n(i),o=(s(13),s(5)),l=s(6),r=s(8),d=s(7),h=(s(14),s(3)),m=s(0),j=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).addData=function(){if(n.setState({isScrolled:!0}),n.state.index<n.state.api.length){n.setState({isLoaded:!1});var e=n.state.index,t=n.state.api[e];fetch(t).then((function(e){return e.json()})).catch((function(e){n.setState({items:localStorage.getItem("posts")})})).then((function(t){n.setState({isLoaded:!0,items:n.state.items.concat(t.posts),index:e+1}),localStorage.setItem("posts",n.state.items)}))}setTimeout((function(){n.setState({isScrolled:!1})}),1e3)},n.onScroll=function(){!1===n.state.isScrolled&&n.hasReachedBottom()&&n.addData()},n.sortByDate=function(){var e=n.state.items;console.log(e);var t=e.sort((function(e,t){return e.views<t.views}));console.log(t),n.setState({items:t})},n.state={isScrolled:!1,index:0,api:["http://www.mocky.io/v2/59ac28a9100000ce0bf9c236","http://www.mocky.io/v2/59ac293b100000d60bf9c239"],items:[],isLoaded:!1,bottomSheet:!1,value:-1},n}return Object(l.a)(s,[{key:"toggleBottomSheet",value:function(){var e=this.state.bottomSheet?{bottomSheet:!1}:{bottomSheet:!0};this.setState(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"hasReachedBottom",value:function(){return window.innerHeight+window.scrollY>document.body.offsetHeight}},{key:"componentDidMount",value:function(){var e=this;fetch("http://www.mocky.io/v2/59b3f0b0100000e30b236b7e").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t.posts}),localStorage.setItem("posts",e.state.items)})),window.addEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,s=e.items;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)(h.Online,{children:[!t&&Object(m.jsx)("h2",{className:"green",children:"Loading..."}),t&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"green",children:"Feed Page - Online"}),Object(m.jsx)("button",{onClick:this.sortByDate,children:"Order by date"}),Object(m.jsxs)("div",{className:"box",children:[s.map((function(e){return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{alt:e.event_name,src:e.thumbnail_image,className:"image"}),Object(m.jsx)("div",{className:"name",children:e.event_name}),Object(m.jsxs)("div",{className:"date",children:["Date: ",e.event_date]}),Object(m.jsx)("div",{className:"details",children:Object(m.jsxs)("span",{children:[e.views," Views, ",e.likes," Likes,  ",e.shares," Shares"]})})]},s.indexOf(e))})),";"]})]})]}),Object(m.jsxs)(h.Offline,{children:[Object(m.jsx)("h2",{className:"red",children:"Feed Page - Currently Offline"}),Object(m.jsxs)("div",{className:"box",children:[s&&s.map((function(e){return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{alt:e.event_name,src:e.thumbnail_image,className:"image"}),Object(m.jsx)("div",{className:"name",children:e.event_name}),Object(m.jsxs)("div",{className:"date",children:["Date: ",e.event_date]}),Object(m.jsx)("div",{className:"details",children:Object(m.jsxs)("span",{children:[e.views," Views, ",e.likes," Likes,  ",e.shares," Shares"]})})]},s.indexOf(e))})),";"]})]})]})}}]),s}(n.Component);c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f2c49fc3.chunk.js.map